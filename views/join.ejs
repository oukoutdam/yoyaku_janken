<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>👊📄✂︎ Yoyaku Janken</title>
</head>
<body>
    <a href="/"><h1>👊📄✂︎ Yoyaku Janken - ルーム：</a> <%= roomData.roomId %> </h1>
    <button type="button" id="showResultsBtn">結果を表示 🔒</button>
    <ul>
        <% roomData.members.forEach((member) => { %>
            <li>
                <%= member.name %>
                <% if (member.rpsChoices.length === 0) { %>
                    <% for (let i = 0; i < roomData.numRounds; i++) { %>
                        <span>∅</span>
                    <% } %>
                <% } else { %>
                    <% member.rpsChoices.forEach((choice) => { %>
                        <span class="hidable" style="display: none;">
                            <%= choice === 'rock' ? '👊' : choice === 'paper' ? '📄' : '✂︎' %>
                        </span>
                    <% }); %>
                <% } %>
                <a href="/edit/<%= roomData.roomId %>/<%= member.name %>">編集</a>
            </li>
        <% }); %>
    </ul>
    <script>
        document.querySelector("#showResultsBtn").addEventListener("click", () => {
            document.querySelectorAll(".hidable").forEach((element) => {
                element.style.display = element.style.display === "none" ? "inline" : "none";
            });
        })
    </script>
</body>
</html>